<div class="container-fluid g-0">
  <app-dash-header></app-dash-header>
  <main>
    <div [ngClass]="{'display-area-shrink':sideNavStatus}" class="display-area p-3">

<div class="p-3">
  <!-- Breadcrumb navigation -->
  <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a href="">Home</a></li>
      <li class="breadcrumb-item"><a href="quiz-test">Quiz</a></li> <!-- Link to forum homepage -->
           </ol>
  </nav>

  <div>
    <!-- Display only the current question -->
    <div *ngIf="questions.length > 0">
      <h4>Question {{ currentQuestionIndex + 1 }}:</h4>
      
      <app-question
        [question]="questions[currentQuestionIndex]"
        [questionIndex]="currentQuestionIndex"
        [selectedOptionIndex]="selectedOptions[currentQuestionIndex]"
        (previous)="moveToPreviousQuestion()"
        (next)="moveToNextQuestion()"
        (optionSelected)="handleOptionSelected($event)"
      ></app-question>
    </div>
    
    <!-- Navigation buttons -->
    <div class="navigation-buttons">
      <button (click)="moveToPreviousQuestion()" [disabled]="currentQuestionIndex === 0">Previous</button>
      <button (click)="moveToNextQuestion()" [disabled]="currentQuestionIndex === questions.length - 1">Next</button>
    </div>
  
    <!-- Submit button -->
    <div>
      <button [disabled]="!allQuestionsAnswered()" (click)="submitQuiz()">Submit</button>
    </div>
  
    <!-- Show the results if the quiz is submitted -->
    <div *ngIf="quizSubmitted">
      <h3>Quiz Results:</h3>
      <div *ngFor="let question of questions; let index = index">
        <h4>Question {{ index + 1 }}: {{ question.question }}</h4>
        <p *ngFor="let option of question.options; let i = index">
          <span [ngClass]="{
              'correct': isCorrectOption(index, getOptionLetter(option)), 
              'wrong': isSelectedOption(index, getOptionLetter(option)) && !isCorrectOption(index, getOptionLetter(option))
            }">
            {{ getOptionLetter(option) }}: {{ option[getOptionLetter(option)] }}
          </span>
        </p>
      </div>
    </div>
  </div>
  
  

</div></div></main></div>